!function(e){function t(t){for(var i,o,s=t[0],c=t[1],l=t[2],u=0,b=[];u<s.length;u++)o=s[u],r[o]&&b.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);b.length;)b.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={1:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;a.push([32,0]),n()}([,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o});var i=n(0);const r=16,a={blue:"#005ece",lightblue:"#039be5",red:"#ff6673",gray:"#eee",white:"#fff",black:"#111"},o=Object(i.b)({html:{WebkitFontSmoothing:"antialiased"},body:{margin:0,fontSize:r,fontFamily:'"Open Sans", sans-serif',fontWeight:"lighter",lineHeight:1.5,height:"100vh",background:`linear-gradient(45deg, ${a.lightblue}, ${a.blue})`},"body > div":{height:"100vh",overflow:"hidden"}},"label:globalStyle;")},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var i=n(0),r=(n(1),n(3));const a=({name:e})=>Object(i.c)("i",{className:"material-icons",css:c},e),o=({name:e,version:t})=>{let n=null;switch(e){case"Chrome":case"Firefox":case"Safari":n=`./images/conf/icon-${e.toLowerCase()}.svg`;break;case"Microsoft Edge":n="./images/conf/icon-edge.svg"}const r=`${e} v${t}`;return null!==n?Object(i.c)("img",{css:l,src:n,alt:r,title:r}):Object(i.c)(a,{name:"info"})},s=({name:e,title:t,disabled:n,onClick:r})=>Object(i.c)("button",{disabled:n,onClick:r,title:t,css:n?[d,u]:d},Object(i.c)(a,{name:e})),c=Object(i.b)({fontSize:r.a},"label:iconStyle;"),l=Object(i.b)({height:r.a},"label:imgStyle;"),d=Object(i.b)({padding:"0 1px",height:r.a,appearance:"none",border:"none",background:"none",color:"inherit",cursor:"pointer"},"label:buttonStyle;"),u={name:"lapf2p-disabledStyle",styles:"opacity:0.6;cursor:not-allowed;label:disabledStyle;"}},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});const i={base:10,modal:100,notification:1e3},r=window.innerWidth>767?600:300,a=250,o=32},,function(e,t,n){"use strict";var i=n(1),r=n(2);class a{constructor(){this.error=null,this.isSettingsOpen=!0,this.isChatOpen=!1,this.isReactionOpen=!1,this.isStatsOpen=!1,this.isReEntering=!1}showError(e){return this.error=e,e}}Object(r.h)(a,{error:r.m.ref,isSettingsOpen:r.m,isChatOpen:r.m,isReactionOpen:r.m,isStatsOpen:r.m,isReEntering:r.m,showError:r.d});var o=a,s=n(24);class c{constructor(){this.hasGetDisplayMedia=!1,this.hasUserVideoDevice=!1,this.isReady=!1,this.displayName="",this.parsedBrowser=null}get stat(){return{displayName:this.displayName,browser:this.browser}}get browser(){const{parsedBrowser:e}=this;return null===e?{name:"N/A",version:"0.0.0"}:{name:e.browser.name||"unknown",version:e.browser.version||"0.0.0"}}load({name:e,ua:t,hasGetDisplayMedia:n,hasUserVideoDevice:i}){this.hasGetDisplayMedia=n,this.hasUserVideoDevice=i,this.isReady=!0,this.displayName=e,this.parsedBrowser=Object(s.parse)(t)}}Object(r.h)(c,{hasGetDisplayMedia:r.m,hasUserVideoDevice:r.m,isReady:r.m,displayName:r.m,parsedBrowser:r.m.ref,browser:r.e,stat:r.e,load:r.d});var l=c;class d{constructor(){this.audioInDevices=[],this.videoInDevices=[],this.audioDeviceId=null,this.videoDeviceId=null,this.isVideoTrackMuted=!1,this.isAudioTrackMuted=!0,this.videoType=null,this.audioTrack=null,this.videoTrack=null}get isAudioEnabled(){return 0!==this.audioInDevices.length}get stream(){const e=new MediaStream;return this.audioTrack instanceof MediaStreamTrack&&(e.addTrack(this.audioTrack),this.audioTrack.enabled=!this.isAudioTrackMuted),this.videoTrack instanceof MediaStreamTrack&&(e.addTrack(this.videoTrack),this.videoTrack.enabled=!this.isVideoTrackMuted),e}get stat(){return{isVideoDisabled:null===this.videoType,isAudioMuted:this.isAudioTrackMuted,isVideoMuted:this.isVideoTrackMuted}}setAudioTrack(e,t){this.audioTrack instanceof MediaStreamTrack&&this.audioTrack.stop(),this.audioTrack=e,this.audioDeviceId=t}setVideoTrack(e,t,n){this.videoTrack instanceof MediaStreamTrack&&this.videoTrack.stop(),this.videoTrack=e,this.videoType=t,this.videoDeviceId=n}deleteVideoTrack(){this.videoTrack instanceof MediaStreamTrack&&this.videoTrack.stop(),this.videoTrack=null,this.videoType=null,this.videoDeviceId=null}setAudioDevices({audioInDevices:e}){null!==e&&this.audioInDevices.replace(e)}setVideoDevices({videoInDevices:e}){null!==e&&this.videoInDevices.replace(e)}toggleMuted(e){"video"===e&&(this.isVideoTrackMuted=!this.isVideoTrackMuted),"audio"===e&&(this.isAudioTrackMuted=!this.isAudioTrackMuted)}}Object(r.h)(d,{audioInDevices:r.m.shallow,videoInDevices:r.m.shallow,audioDeviceId:r.m,videoDeviceId:r.m,isAudioTrackMuted:r.m,isVideoTrackMuted:r.m,videoType:r.m,audioTrack:r.m.ref,videoTrack:r.m.ref,stat:r.e,isAudioEnabled:r.e,stream:r.e,setAudioTrack:r.d,setVideoTrack:r.d,deleteVideoTrack:r.d,setAudioDevices:r.d,setVideoDevices:r.d,toggleMuted:r.d});var u=d;class b{constructor(){this.peer=null,this.room=null,this.mode=null,this.id=null,this.streams=new Map,this.stats=new Map,this.chats=[],this.myLastChat=null,this.myLastReaction=null,this.pinnedId=null,this.castRequestCount=0,this.confStats=[]}get name(){return`${this.mode}/${this.id}`}get isJoined(){return null!==this.room}get pinnedStream(){return null===this.pinnedId?null:this.streams.get(this.pinnedId)||null}load({mode:e,id:t},n){this.mode=e,this.id=t,this.peer=n}addLocalChat(e,t){const n={id:Math.random(),time:Date.now(),isMine:!0,from:e,text:t};this.chats.push(n),this.myLastChat=n}addRemoteChat(e){e.isMine=!1,this.chats.push(e)}addReaction(e,t){this.myLastReaction={from:e,reaction:t}}removeStream(e){this.streams.delete(e),this.stats.delete(e),this.pinnedId===e&&(this.pinnedId=null)}getPeerConnection(){if("sfu"!==this.mode)return null;if(null===this.room)return null;return this.room._negotiator._pc}cleanUp(){if(null===this.room)throw new Error("Room is null!");[...this.streams.values()].forEach(e=>e.getTracks().forEach(e=>e.stop())),this.streams.clear(),this.stats.clear(),this.chats.length=0,this.myLastChat=null,this.room=null}}Object(r.h)(b,{peer:r.m.ref,room:r.m.ref,mode:r.m,id:r.m,streams:r.m.shallow,stats:r.m.shallow,chats:r.m.shallow,myLastChat:r.m.ref,myLastReaction:r.m.ref,pinnedId:r.m,castRequestCount:r.m,confStats:r.m.shallow,name:r.e,isJoined:r.e,pinnedStream:r.e,load:r.d,addLocalChat:r.d,addRemoteChat:r.d,removeStream:r.d,getPeerConnection:r.d,cleanUp:r.d});var h=b;class f{constructor(){this.items=[]}showInfo(e){this.show("info",e,1e3)}showChat(e,t){this.show("chat",`${e}: ${t}`,6e3)}showReaction(e,t){this.show("insert_emoticon",`${e}: ${t}`,3e3)}showJoin(e){this.show("person",`${e} joined`,2e3)}showLeave(e){this.show("person",`${e} left`,2e3)}show(e,t,n){const i={id:Math.random(),type:e,text:t};this.items.push(i),setTimeout(()=>this.items.remove(i),n)}}Object(r.h)(f,{items:r.m.shallow,showInfo:r.d,showChat:r.d,showReaction:r.d,showJoin:r.d,showLeave:r.d,show:r.d});var m=f;var p=class{constructor(){this.ui=new o,this.client=new l,this.media=new u,this.room=new h,this.notification=new m}};n.d(t,"a",function(){return g});const v=new p;window.store=v;const g=Object(i.createContext)(v)},,function(e,t,n){"use strict";var i=n(10);t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(i.a)(t)}},function(e,t,n){"use strict";var i=function(e){for(var t,n=e.length,i=n^n,r=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+((1540483477*(t>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++r;switch(n){case 3:i^=(255&e.charCodeAt(r+2))<<16;case 2:i^=(255&e.charCodeAt(r+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(r)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),((i^=i>>>15)>>>0).toString(36)},r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}};n.d(t,"a",function(){return f});var o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,c=function(e){return 45===e.charCodeAt(1)},l=a(function(e){return c(e)?e:e.replace(o,"-$&").toLowerCase()}),d=function(e,t){if(null==t||"boolean"==typeof t)return"";switch(e){case"animation":case"animationName":"string"==typeof t&&(t=t.replace(s,function(e,t,n){return b={name:t,styles:n,next:b},t}))}return 1===r[e]||c(e)||"number"!=typeof t||0===t?t:t+"px"};function u(e,t,n,i){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return b={name:n.name,styles:n.styles,next:b},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)b={name:r.name,styles:r.styles,next:b},r=r.next;return n.styles}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=u(e,t,n[r],!1);else for(var a in n){var o=n[a];if("object"!=typeof o)null!=t&&void 0!==t[o]?i+=a+"{"+t[o]+"}":i+=l(a)+":"+d(a,o)+";";else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]])i+=a+"{"+u(e,t,o,!1)+"}";else for(var s=0;s<o.length;s++)i+=l(a)+":"+d(a,o[s])+";"}return i}(e,t,n);case"function":if(void 0!==e){var a=b,o=n(e);return b=a,u(e,t,o,i)}default:if(null==t)return n;var s=t[n];return void 0===s||i?n:s}}var b,h=/label:\s*([^\s;\n{]+)\s*;/g;var f=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";b=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,a+=u(n,t,o,!1)):a+=o[0];for(var s=1;s<e.length;s++)a+=u(n,t,e[s],46===a.charCodeAt(a.length-1)),r&&(a+=o[s]);h.lastIndex=0;for(var c,l="";null!==(c=h.exec(a));)l+="-"+c[1];return{name:i(a)+l,styles:a,next:b}}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o});const i=e=>"sfu"===e||"mesh"===e,r=16,a="^[0-9a-z_-]{4,16}$",o=e=>new RegExp(a).test(e)},function(e){e.exports=JSON.parse('{"a":"skyway-conference-dev","b":"2.6.1"}')},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(i);try{var a=105===e.charCodeAt(1)&&64===e.charCodeAt(0);r.insertRule(e,a?0:r.cssRules.length)}catch(e){0}}else i.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});function i(e,t,n){var i="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):i+=n+" "}),i}var r=function(e,t,n){var i=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert("."+i,r,e.sheet,!0);r=r.next}while(void 0!==r)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=o(e),l=1;l<arguments.length;l++){for(var d in n=Object(arguments[l]))r.call(n,d)&&(c[d]=n[d]);if(i){s=i(n);for(var u=0;u<s.length;u++)a.call(n,s[u])&&(c[s[u]]=n[s[u]])}}return c}},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,i=!1,r=3,a=-1,o=-1,s=!1,c=!1;function l(){if(!s){var e=n.expirationTime;c?j():c=!0,k(b,e)}}function d(){var e=n,t=n.next;if(n===t)n=null;else{var i=n.previous;n=i.next=t,t.previous=i}e.next=e.previous=null,i=e.callback,t=e.expirationTime,e=e.priorityLevel;var a=r,s=o;r=e,o=t;try{var c=i()}finally{r=a,o=s}if("function"==typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=c.next=c.previous=c;else{i=null,e=n;do{if(e.expirationTime>=t){i=e;break}e=e.next}while(e!==n);null===i?i=n:i===n&&(n=c,l()),(t=i.previous).next=i.previous=c,c.next=i,c.previous=t}}function u(){if(-1===a&&null!==n&&1===n.priorityLevel){s=!0;try{do{d()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?l():c=!1}}}function b(e){s=!0;var r=i;i=e;try{if(e)for(;null!==n;){var a=t.unstable_now();if(!(n.expirationTime<=a))break;do{d()}while(null!==n&&n.expirationTime<=a)}else if(null!==n)do{d()}while(null!==n&&!C())}finally{s=!1,i=r,null!==n?l():c=!1,u()}}var h,f,m=Date,p="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,g="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){h=g(function(t){v(f),e(t)}),f=p(function(){y(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var O=performance;t.unstable_now=function(){return O.now()}}else t.unstable_now=function(){return m.now()};var k,j,C,S=null;if("undefined"!=typeof window?S=window:void 0!==e&&(S=e),S&&S._schedMock){var x=S._schedMock;k=x[0],j=x[1],C=x[2],t.unstable_now=x[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,A=function(e){if(null!==T)try{T(e)}finally{T=null}};k=function(e){null!==T?setTimeout(k,0,e):(T=e,setTimeout(A,0,!1))},j=function(){T=null},C=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var D=null,I=!1,E=-1,M=!1,V=!1,R=0,_=33,N=33;C=function(){return R<=t.unstable_now()};var z=new MessageChannel,$=z.port2;z.port1.onmessage=function(){I=!1;var e=D,n=E;D=null,E=-1;var i=t.unstable_now(),r=!1;if(0>=R-i){if(!(-1!==n&&n<=i))return M||(M=!0,w(L)),D=e,void(E=n);r=!0}if(null!==e){V=!0;try{e(r)}finally{V=!1}}};var L=function(e){if(null!==D){w(L);var t=e-R+N;t<N&&_<N?(8>t&&(t=8),N=t<_?_:t):_=t,R=e+N,I||(I=!0,$.postMessage(void 0))}else M=!1};k=function(e,t){D=e,E=t,V||0>t?$.postMessage(void 0):M||(M=!0,w(L))},j=function(){D=null,I=!1,E=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=r,o=a;r=e,a=t.unstable_now();try{return n()}finally{r=i,a=o,u()}},t.unstable_next=function(e){switch(r){case 1:case 2:case 3:var n=3;break;default:n=r}var i=r,o=a;r=n,a=t.unstable_now();try{return e()}finally{r=i,a=o,u()}},t.unstable_scheduleCallback=function(e,i){var o=-1!==a?a:t.unstable_now();if("object"==typeof i&&null!==i&&"number"==typeof i.timeout)i=o+i.timeout;else switch(r){case 1:i=o+-1;break;case 2:i=o+250;break;case 5:i=o+1073741823;break;case 4:i=o+1e4;break;default:i=o+5e3}if(e={callback:e,priorityLevel:r,expirationTime:i,next:null,previous:null},null===n)n=e.next=e.previous=e,l();else{o=null;var s=n;do{if(s.expirationTime>i){o=s;break}s=s.next}while(s!==n);null===o?o=n:o===n&&(n=e,l()),(i=o.previous).next=o.previous=e,e.next=o,e.previous=i}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var i=e.previous;i.next=t,t.previous=i}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=r;return function(){var i=r,o=a;r=n,a=t.unstable_now();try{return e.apply(this,arguments)}finally{r=i,a=o,u()}}},t.unstable_getCurrentPriorityLevel=function(){return r},t.unstable_shouldYield=function(){return!i&&(null!==n&&n.expirationTime<o||C())},t.unstable_continueExecution=function(){null!==n&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(16))},function(e,t){var n,i,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,l=[],d=!1,u=-1;function b(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&h())}function h(){if(!d){var e=s(b);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||d||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";var i=n(13);var r=function(e){function t(e,t,i){var r=t.trim().split(f);t=r;var a=r.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=n(e,t[s],i).trim();break;default:var c=s=0;for(t=[];s<a;++s)for(var l=0;l<o;++l)t[c++]=n(e[l]+" ",r[s],i).trim()}return t}function n(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,a){var o=e+";",s=2*t+3*n+4*a;if(944===s){e=o.indexOf(":",9)+1;var c=o.substring(e,o.length-1).trim();return c=o.substring(0,e).trim()+c+";",1===D||2===D&&r(c,1)?"-webkit-"+c+c:c}if(0===D||2===D&&!r(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(c=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+c+o;case 1005:return b.test(o)?o.replace(u,":-webkit-")+o.replace(u,":-moz-")+o:o;case 1e3:switch(t=(c=o.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=o.replace(y,"tb");break;case 232:c=o.replace(y,"tb-rl");break;case 220:c=o.replace(y,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+c+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(c=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:o=o.replace(c,"-webkit-"+c)+";"+o;break;case 207:case 102:o=o.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(c,"-webkit-"+c)+";"+o.replace(c,"-ms-"+c+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return c=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+c+"-ms-flex-"+c+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(k,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(k,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):o.replace(c,"-webkit-"+c)+o.replace(c,"-moz-"+c.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+a&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+o}return o}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),V(2!==t?i:i.replace(j,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(O," or ($1)").substring(4):"("+t+")"}function o(e,t,n,i,r,a,o,s,l,d){for(var u,b=0,h=t;b<M;++b)switch(u=E[b].call(c,e,h,n,i,r,a,o,s,l,d)){case void 0:case!1:case!0:case null:break;default:h=u}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(V=null,e?"function"!=typeof e?D=1:(D=2,V=e):D=0),s}function c(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var c=o(-1,n,s,s,T,x,0,0,0,0);void 0!==c&&"string"==typeof c&&(n=c)}var u=function e(n,s,c,u,b){for(var h,f,m,y,O,k=0,j=0,C=0,S=0,E=0,V=0,_=m=h=0,N=0,z=0,$=0,L=0,P=c.length,F=P-1,U="",q="",J="",G="";N<P;){if(f=c.charCodeAt(N),N===F&&0!==j+S+C+k&&(0!==j&&(f=47===j?10:47),S=C=k=0,P++,F++),0===j+S+C+k){if(N===F&&(0<z&&(U=U.replace(d,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=c.charAt(N)}f=59}switch(f){case 123:for(h=(U=U.trim()).charCodeAt(0),m=1,L=++N;N<P;){switch(f=c.charCodeAt(N)){case 123:m++;break;case 125:m--;break;case 47:switch(f=c.charCodeAt(N+1)){case 42:case 47:e:{for(_=N+1;_<F;++_)switch(c.charCodeAt(_)){case 47:if(42===f&&42===c.charCodeAt(_-1)&&N+2!==_){N=_+1;break e}break;case 10:if(47===f){N=_+1;break e}}N=_}}break;case 91:f++;case 40:f++;case 34:case 39:for(;N++<F&&c.charCodeAt(N)!==f;);}if(0===m)break;N++}switch(m=c.substring(L,N),0===h&&(h=(U=U.replace(l,"").trim()).charCodeAt(0)),h){case 64:switch(0<z&&(U=U.replace(d,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:z=s;break;default:z=I}if(L=(m=e(s,z,m,f,b+1)).length,0<M&&(O=o(3,m,z=t(I,U,$),s,T,x,L,f,b,u),U=z.join(""),void 0!==O&&0===(L=(m=O.trim()).length)&&(f=0,m="")),0<L)switch(f){case 115:U=U.replace(w,a);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(p,"$1 $2"))+"{"+m+"}",m=1===D||2===D&&r("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===u&&(q+=m,m="")}else m="";break;default:m=e(s,t(s,U,$),m,u,b+1)}J+=m,m=$=z=_=h=0,U="",f=c.charCodeAt(++N);break;case 125:case 59:if(1<(L=(U=(0<z?U.replace(d,""):U).trim()).length))switch(0===_&&(h=U.charCodeAt(0),45===h||96<h&&123>h)&&(L=(U=U.replace(" ",":")).length),0<M&&void 0!==(O=o(1,U,s,n,T,x,q.length,u,b,u))&&0===(L=(U=O.trim()).length)&&(U="\0\0"),h=U.charCodeAt(0),f=U.charCodeAt(1),h){case 0:break;case 64:if(105===f||99===f){G+=U+c.charAt(N);break}default:58!==U.charCodeAt(L-1)&&(q+=i(U,h,f,U.charCodeAt(2)))}$=z=_=h=0,U="",f=c.charCodeAt(++N)}}switch(f){case 13:case 10:47===j?j=0:0===1+h&&107!==u&&0<U.length&&(z=1,U+="\0"),0<M*R&&o(0,U,s,n,T,x,q.length,u,b,u),x=1,T++;break;case 59:case 125:if(0===j+S+C+k){x++;break}default:switch(x++,y=c.charAt(N),f){case 9:case 32:if(0===S+k+j)switch(E){case 44:case 58:case 9:case 32:y="";break;default:32!==f&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===S+j+k&&(z=$=1,y="\f"+y);break;case 108:if(0===S+j+k+A&&0<_)switch(N-_){case 2:112===E&&58===c.charCodeAt(N-3)&&(A=E);case 8:111===V&&(A=V)}break;case 58:0===S+j+k&&(_=N);break;case 44:0===j+C+S+k&&(z=1,y+="\r");break;case 34:case 39:0===j&&(S=S===f?0:0===S?f:S);break;case 91:0===S+j+C&&k++;break;case 93:0===S+j+C&&k--;break;case 41:0===S+j+k&&C--;break;case 40:if(0===S+j+k){if(0===h)switch(2*E+3*V){case 533:break;default:h=1}C++}break;case 64:0===j+C+S+k+_+m&&(m=1);break;case 42:case 47:if(!(0<S+k+C))switch(j){case 0:switch(2*f+3*c.charCodeAt(N+1)){case 235:j=47;break;case 220:L=N,j=42}break;case 42:47===f&&42===E&&L+2!==N&&(33===c.charCodeAt(L+2)&&(q+=c.substring(L,N+1)),y="",j=0)}}0===j&&(U+=y)}V=E,E=f,N++}if(0<(L=q.length)){if(z=s,0<M&&void 0!==(O=o(2,q,z,n,T,x,L,u,b,u))&&0===(q=O).length)return G+q+J;if(q=z.join(",")+"{"+q+"}",0!=D*A){switch(2!==D||r(q,2)||(A=0),A){case 111:q=q.replace(g,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}A=0}}return G+q+J}(I,s,n,0,0);return 0<M&&void 0!==(c=o(-2,u,s,s,T,x,u.length,0,0,0))&&(u=c),A=0,x=T=1,u}var l=/^\0+/g,d=/[\0\r\f]/g,u=/: */g,b=/zoo|gra/,h=/([,: ])(transform)/g,f=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,p=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,g=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,O=/([\s\S]*?);/g,k=/-self|flex-/g,j=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,x=1,T=1,A=0,D=1,I=[],E=[],M=0,V=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:M=E.length=0;break;default:if("function"==typeof t)E[M++]=t;else if("object"==typeof t)for(var n=0,i=t.length;n<i;++n)e(t[n]);else R=0|!!t}return e},c.set=s,void 0!==e&&s(e),c};function a(e){e&&o.current.insert(e+"}")}var o={current:null},s=function(e,t,n,i,r,s,c,l,d,u){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return o.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===l)return t+"/*|*/";break;case 3:switch(l){case 102:case 112:return o.current.insert(n[0]+t),"";default:return t+(0===u?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(a)}};t.a=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var a=new r(t);var c,l={};c=e.container||document.head;var d,u=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(u,function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach(function(e){l[e]=!0}),e.parentNode!==c&&c.appendChild(e)}),a.use(e.stylisPlugins)(s),d=function(e,t,n,i){var r=t.name;o.current=n,a(e,t.styles),i&&(b.inserted[r]=!0)};var b={key:n,sheet:new i.a({key:n,container:c,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:l,registered:{},insert:d};return b}},function(e,t,n){"use strict";e.exports=n(18)},function(e,t){var n=1e3,i=60*n,r=60*i,a=24*r,o=7*a,s=365.25*a;function c(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return c(e,t,a,"day");if(t>=r)return c(e,t,r,"hour");if(t>=i)return c(e,t,i,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},,,,,,,,function(e,t){function n(){}e.exports=n,n.mixin=function(e){var t=e.prototype||e;t.isWildEmitter=!0,t.on=function(e,t,n){this.callbacks=this.callbacks||{};var i=3===arguments.length,r=i?arguments[1]:void 0,a=i?arguments[2]:arguments[1];return a._groupName=r,(this.callbacks[e]=this.callbacks[e]||[]).push(a),this},t.once=function(e,t,n){var i=this,r=3===arguments.length,a=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];function s(){i.off(e,s),o.apply(this,arguments)}return this.on(e,a,s),this},t.releaseGroup=function(e){var t,n,i,r;for(t in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,i=(r=this.callbacks[t]).length;n<i;n++)r[n]._groupName===e&&(r.splice(n,1),n--,i--);return this},t.off=function(e,t){this.callbacks=this.callbacks||{};var n,i=this.callbacks[e];return i?1===arguments.length?(delete this.callbacks[e],this):(n=i.indexOf(t),i.splice(n,1),0===i.length&&delete this.callbacks[e],this):this},t.emit=function(e){this.callbacks=this.callbacks||{};var t,n,i,r=[].slice.call(arguments,1),a=this.callbacks[e],o=this.getWildcardCallbacks(e);if(a)for(t=0,n=(i=a.slice()).length;t<n&&i[t];++t)i[t].apply(this,r);if(o)for(n=o.length,t=0,n=(i=o.slice()).length;t<n&&i[t];++t)i[t].apply(this,[e].concat(r));return this},t.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var t,n,i=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(i=i.concat(this.callbacks[t]));return i}},n.mixin(n)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),a=n(14),o=n(6),s=n.n(o),c=n(12),l=n(3),d=n(8),u=n(7),b=n(2),h=n(11);const f=async e=>{const t=await navigator.mediaDevices.enumerateDevices()||[],n=[],i=[];for(const e of t)"videoinput"===e.kind&&n.push(e),"audioinput"===e.kind&&i.push(e);const r={videoInDevices:null,audioInDevices:null};return e.video&&(r.videoInDevices=n),e.audio&&(r.audioInDevices=i),r},m=async e=>navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:e}}}).then(e=>e.getAudioTracks()[0]),p=async e=>navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:e}}}).then(e=>e.getVideoTracks()[0]);var v=n(25),g=n.n(v);const y=s()("effect:bootstrap"),w=({ui:e,room:t})=>()=>{y("checkRoomSetting()");const[,n,i]=location.hash.split("/"),r=new URLSearchParams(location.search);if(!Object(h.b)(n))throw e.showError(new Error("Invalid room type! it should be `sfu` or `mesh`."));if(!Object(h.a)(i))throw e.showError(new Error(`Invalid room name! it should be match \`${h.d.toString()}\`.`));(async()=>{const a=await(e=>new Promise((t,n)=>{const i=new g.a({key:"03ff6219-b58f-4310-9484-e9108e859cdd",debug:2,config:{iceTransportPolicy:e?"relay":"all"}});i.once("open",()=>{i.removeListener("error",n),t(i)}),i.once("error",n)}))(r.has("turn")).catch(t=>{throw e.showError(t)});a.on("error",console.error),t.load({mode:n,id:i},a),y(`room: ${n}/${i}`),y("peer instance created")})()};var O=({error:e})=>Object(i.c)("div",{css:k},Object(i.c)("h2",{css:j},e.message),Object(i.c)("pre",{css:C},e.stack));const k=Object(i.b)({color:l.b.white,margin:16},"label:wrapperStyle;"),j={name:"1bdj84v-headStyle",styles:"font-weight:900;label:headStyle;"},C={name:"1wkf93x-detailStyle",styles:"white-space:pre-wrap;label:detailStyle;"};var S=()=>Object(i.c)("img",{css:x,src:"./images/conf/icon-loading.svg"});const x={name:"puc4nm-wrapperStyle",styles:"position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:160px;label:wrapperStyle;"};var T=({children:e})=>{const t=Object(r.useContext)(u.a);Object(r.useEffect)(w(t),[t]),Object(r.useEffect)((({ui:e,media:t})=>()=>{y("ensureAudioDevice()"),(async()=>{const{audioInDevices:n}=await f({audio:!0}).catch(t=>{throw e.showError(t)});if(null===n)throw e.showError(new Error("getUserDevices() returns null"));if(0===n.length)throw e.showError(new Error("At least one audio input device needed!"));const[{deviceId:i}]=n,r=await m(i).catch(t=>{throw e.showError(t)});t.setAudioTrack(r,i);const a=await f({audio:!0}).catch(t=>{throw e.showError(t)});t.setAudioDevices(a),y("audio devices",a.audioInDevices)})()})(t),[t]),Object(r.useEffect)((({client:e,media:t,room:n,notification:i})=>()=>{y("listenStoreChanges()");const r=[Object(b.o)(()=>n.isJoined,e=>e&&i.showInfo(`You joined the room ${n.name}`)),Object(b.o)(()=>t.isAudioTrackMuted,e=>i.showInfo(`Mic input was ${e?"muted":"unmuted"}`)),Object(b.o)(()=>t.isVideoTrackMuted,e=>i.showInfo(`Video was ${e?"muted":"unmuted"}`)),Object(b.n)(t,"audioDeviceId",e=>{null!==e.oldValue&&i.showInfo("Mic input was changed")}),Object(b.n)(t,"videoDeviceId",e=>{null!==e.oldValue?null!==e.newValue?i.showInfo("Video input was changed"):i.showInfo("Video input was disabled"):i.showInfo("Video input was enabled")}),Object(b.o)(()=>n.castRequestCount,()=>i.showInfo("Your video was casted to everyone")),Object(b.o)(()=>e.displayName,e=>{localStorage.setItem("SkyWayConf.dispName",e),i.showInfo("Display name saved")},{delay:2e3})];return()=>r.forEach(e=>e())})(t),[t]),Object(r.useEffect)((({media:e,ui:t})=>()=>{y("listenGlobalEvents()");const n=()=>location.reload(!0),i=async()=>{y("devicechange event fired");const{audioInDevices:n,videoInDevices:i}=await f({video:!0,audio:!0}).catch(e=>{throw t.showError(e)});if(null===n||null===i)throw t.showError(new Error("getUserDevices() returns null"));const r=e.audioInDevices,a=e.videoInDevices;r.length&&n.length!==r.length&&location.reload(!0),a.length&&i.length!==a.length&&location.reload(!0)};return window.addEventListener("hashchange",n,!1),navigator.mediaDevices.addEventListener("devicechange",i,!1),()=>{y("listener removed"),window.removeEventListener("hashchange",n),navigator.mediaDevices.removeEventListener("devicechange",i)}})(t),[t]),Object(r.useEffect)((({client:e,ui:t})=>()=>{y("loadClient()"),(async()=>{const{videoInDevices:n}=await f({video:!0}).catch(e=>{throw t.showError(e)});if(null===n)throw t.showError(new Error("getUserDevices() returns null"));e.load({ua:navigator.userAgent,hasUserVideoDevice:0!==n.length,hasGetDisplayMedia:"function"==typeof navigator.mediaDevices.getDisplayMedia,name:localStorage.getItem("SkyWayConf.dispName")||"YOUR_NAME"}),y("client loaded",Object(b.q)(e))})()})(t),[t]);const{ui:n,client:a,media:o}=t;return Object(i.c)(d.a,null,()=>n.error instanceof Error?Object(i.c)(O,{error:n.error}):a.isReady&&o.isAudioEnabled?Object(i.c)(r.Fragment,null,e):Object(i.c)(S,null))},A=n(5);const D=Object(i.b)({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:A.d.modal,overflow:"auto",backgroundColor:"rgba(0, 0, 0, .8)",willChange:"opacity",animation:`${i.d`from { opacity: 0; } to { opacity: 1; }`} .4s ease`},"label:wrapperStyle;");var I=({children:e})=>Object(i.c)("div",{css:D},e);const E=s()("component:video");var M=Object(r.memo)(({stream:e,isReverse:t=!1,isVideoOnly:n=!1})=>{const a=Object(r.useRef)(null),o=Object(r.useRef)(null),s=E.extend(e.id);return Object(r.useEffect)(()=>{if(null===a.current)return;const t=a.current;s("useEffect(): assign and play stream"),t.srcObject=e,t.paused&&t.play()},[a,s,e]),Object(r.useEffect)(()=>{if(n||null===o.current)return;const t=o.current;t.srcObject=e,t.paused&&t.play()},[n,o,e]),s("render()",[...e.getTracks()]),Object(i.c)(r.Fragment,null,Object(i.c)("video",{css:t?[R,_]:R,ref:a,playsInline:!0,muted:!0}),n?null:Object(i.c)("audio",{css:V,ref:o}))});const V={name:"1lncosa-audioStyle",styles:"display:none;label:audioStyle;"},R=Object(i.b)({backgroundColor:l.b.black,width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"},"label:videoStyle;"),_={name:"8r6ty2-reverseVideoStyle",styles:"transform:scaleX(-1);label:reverseVideoStyle;"};var N=n(4),z=n(9);const $=({label:e,children:t})=>Object(i.c)("div",{css:Object(z.a)([P,F],"label:SettingsItemDevice;")},Object(i.c)("div",{css:q},e),t),L=({label:e,children:t})=>Object(i.c)("div",{css:Object(z.a)([P,U],"label:SettingsItemName;")},Object(i.c)("div",{css:q},e),Object(i.c)("div",null,t)),P={name:"1wwdip2-wrapperStyle",styles:"margin:8px auto;label:wrapperStyle;"},F={name:"196e5as-deviceStyle",styles:"display:grid;grid-template-columns:80px 72px 1fr;grid-gap:8px;align-items:center;label:deviceStyle;"},U={name:"15ay9ur-nameStyle",styles:"display:grid;grid-template-columns:80px 1fr;grid-gap:8px;align-items:center;label:nameStyle;"},q={name:"1e4hzwk-labelStyle",styles:"text-align:center;label:labelStyle;"};var J=({defaultDispName:e,onChangeDispName:t})=>{const[n,a]=Object(r.useState)(e);return Object(i.c)("div",null,Object(i.c)("input",{type:"text",value:n,maxLength:10,onChange:e=>{if(e.target.value.length>10)return;const n=e.target.value;a(n),t(n)},css:G}))};const G=Object(i.b)({boxSizing:"border-box",width:"100%",padding:"4px 8px",appearance:"none",border:0,borderBottom:`1px solid ${l.b.gray}`,fontSize:"1.1rem","&:focus":{borderColor:l.b.blue}},"label:nameStyle;"),W=({deviceId:e,inDevices:t,onChangeDeviceId:n})=>Object(i.c)("select",{value:e||"",onChange:e=>n(e.target.value),css:H},t.map(e=>Object(i.c)("option",{key:e.deviceId,value:e.deviceId},e.label))),B=({label:e,disabled:t,onClick:n})=>Object(i.c)("button",{css:H,disabled:!!t,onClick:n},e),H={name:"14eu8hg-formStyle",styles:"box-sizing:border-box;width:100%;height:100%;label:formStyle;"};var Y=({displayName:e,browser:t,controllers:n})=>Object(i.c)("div",{css:X},Object(i.c)("div",{css:Z},Object(i.c)(N.a,t)," ",e),Object(i.c)("div",{css:Z},n));const X=Object(i.b)({display:"grid",gridTemplateColumns:"1fr auto",padding:4,color:l.b.white,backgroundColor:"rgba(0, 0, 0, .5)",fontSize:".8rem"},"label:wrapperStyle;"),Z={name:"1cz6063-rowStyle",styles:"display:inline-flex;align-items:center;label:rowStyle;"},K=n(30);var Q=Object(r.memo)(({stream:e})=>{const[t,n]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{const t=K(e,{threshold:-75});return t.on("speaking",()=>n(!0)),t.on("stopped_speaking",()=>n(!1)),()=>t.stop()},[e]),Object(i.c)(N.b,{name:t?"volume_up":"volume_mute"})});var ee=({stream:e,defaultDispName:t,browser:n,hasGetDisplayMedia:a,hasUserVideoDevice:o,isReEntering:s,videoType:c,isVideoTrackMuted:l,isAudioTrackMuted:d,videoDeviceId:u,audioDeviceId:b,videoInDevices:h,audioInDevices:f,isJoined:m,onChangeVideoDeviceId:p,onChangeAudioDeviceId:v,onClickToggleVideoMuted:g,onClickToggleAudioMuted:y,onClickEnableUserVideo:w,onClickDisableUserVideo:O,onClickEnableDisplayVideo:k,onClickDisableDisplayVideo:j,onChangeDispName:C,onClickCloseSettings:S,onClickJoinConference:x})=>Object(i.c)(I,null,Object(i.c)("div",{css:te},Object(i.c)("div",{css:ne},Object(i.c)(M,{stream:e,isReverse:"camera"===c,isVideoOnly:!0}),Object(i.c)("div",{css:ie},Object(i.c)(Y,{displayName:`v${n.version}`,browser:n,controllers:Object(i.c)(r.Fragment,null,null===c?null:Object(i.c)(N.c,{name:l?"videocam_off":"videocam",title:l?"Unmute video":"Mute video",onClick:g}),Object(i.c)(N.c,{name:d?"mic_off":"mic",title:d?"Unmute audio":"Mute audio",onClick:y}),Object(i.c)(Q,{stream:e}))}))),Object(i.c)("div",{css:re},Object(i.c)(L,{label:"NAME"},Object(i.c)(J,{defaultDispName:t,onChangeDispName:C})),Object(i.c)($,{label:"MIC."},Object(i.c)(B,{label:"Disable",disabled:!0}),Object(i.c)(W,{deviceId:b||"",inDevices:f,onChangeDeviceId:v})),o?Object(i.c)($,{label:"CAMERA"},"camera"===c?Object(i.c)(r.Fragment,null,Object(i.c)(B,{label:"Disable",onClick:O}),Object(i.c)(W,{deviceId:u||"",inDevices:h,onChangeDeviceId:p})):Object(i.c)(B,{label:"Enable",onClick:w})):null,a?Object(i.c)($,{label:"DISPLAY"},"display"===c?Object(i.c)(r.Fragment,null,Object(i.c)(B,{label:"Disable",onClick:j}),Object(i.c)(B,{label:"Use another dispaly",onClick:k})):Object(i.c)(B,{label:"Enable",onClick:k})):null),Object(i.c)("div",{css:ae},Object(i.c)("button",{css:oe,onClick:m?S:x,disabled:s},s?"RE-ENTERING THE ROOM":Object(i.c)(r.Fragment,null,Object(i.c)(N.b,{name:m?"done":"meeting_room"}),Object(i.c)("span",null,m?"CLOSE SETTINGS":"ENTER THIS ROOM"))))));const te=Object(i.b)({width:A.a,margin:"32px auto 0",boxSizing:"border-box",backgroundColor:l.b.white},"label:wrapperStyle;"),ne=Object(i.b)({position:"relative",width:"100%",height:A.a/4*3},"label:videoStyle;"),ie={name:"1859mzx-controllerStyle",styles:"position:absolute;left:0;right:0;bottom:0;z-index:1;label:controllerStyle;"},re={name:"p5cp9u-settingsStyle",styles:"margin:16px;label:settingsStyle;"},ae={name:"uoqux9-buttonWrapStyle",styles:"padding:16px;text-align:center;label:buttonWrapStyle;"},oe=Object(i.b)({display:"inline-flex",alignItems:"center",backgroundColor:l.b.blue,color:l.b.white,height:40,border:0,cursor:"pointer",padding:"0 24px",fontSize:"1.2rem",borderRadius:2,"&:disabled":{cursor:"not-allowed",backgroundColor:l.b.gray}},"label:doneButtonStyle;"),se=s()("effect:room"),ce=e=>{se("joinRoom()");const{room:t,ui:n,media:i,client:r,notification:a}=e;if(null===t.name||null===t.mode)throw n.showError(new Error("Room name or mode is undefined!"));if(null===t.peer)throw n.showError(new Error("Peer is not created!"));"mesh"===t.mode?t.room=t.peer.joinRoom(t.name,{mode:"mesh",stream:i.stream}):"sfu"===t.mode&&(t.room=t.peer.joinRoom(t.name,{mode:"sfu",stream:i.stream}));const o=t.room;if(null===o)throw n.showError(new Error("Room is null!"));se("joined room",o),n.isReEntering=!1;const s=[Object(b.o)(()=>({...i.stat,...r.stat}),e=>{se("reaction:send(stat)"),o.send({type:"stat",payload:e})}),Object(b.o)(()=>t.myLastChat,e=>{null!==e&&(se("reaction:send(chat)"),o.send({type:"chat",payload:e}))}),Object(b.o)(()=>t.myLastReaction,e=>{null!==e&&(se("reaction:send(reaction)"),o.send({type:"reaction",payload:e}))}),Object(b.o)(()=>t.castRequestCount,()=>{se("reaction:send(cast)"),o.send({type:"cast",payload:{from:r.displayName}})}),Object(b.n)(i,"videoDeviceId",e=>{if(se("observe(media.videoDeviceId)"),t.isJoined){if(null!==e.oldValue&&null!==e.newValue)return se("just change video by replaceStream(), no need to re-enter"),void o.replaceStream(i.stream);if(se("need to re-enter the room to add/remove video"),null===t.room)throw n.showError(new Error("Room is null!"));n.isReEntering=!0,t.room.close(),a.showInfo("Re-enter the room to add/remove video")}else se("do nothing before room join")})];o.on("stream",e=>{se("on('stream')",e),t.streams.set(e.peerId,e),o.send({type:"stat",payload:{...r.stat,...i.stat}})}),o.on("peerLeave",e=>{se("on('peerLeave')",e);const n=t.stats.get(e);n&&a.showLeave(n.displayName),t.removeStream(e)}),o.on("data",({src:e,data:i})=>{const{type:r,payload:o}=i;switch(r){case"stat":{const n=o;se("on('data/stat')",n),t.stats.get(e)||a.showJoin(n.displayName),t.stats.set(e,n);break}case"chat":{const e=o;se("on('data/chat')",e),n.isChatOpen||a.showChat(e.from,e.text),t.addRemoteChat(e);break}case"reaction":{const e=o;a.showReaction(e.from,e.reaction);break}case"cast":{const n=o;se("on('data/cast')",n),t.pinnedId=e,a.showInfo(`Video was casted by ${n.from}`);break}default:se("on('data/unknown') discard...")}}),o.once("close",()=>{se("on('close')"),a.showInfo("room closed! trying re-connect.."),s.forEach(e=>e());try{o.removeAllListeners(),t.cleanUp()}catch(e){throw n.showError(e)}setTimeout(()=>ce(e),500)})},le=s()("effect:settings"),de=e=>async()=>{le("enableDisplayVideo()");const{media:t,ui:n,notification:i}=e,r=await(async()=>navigator.mediaDevices.getDisplayMedia({video:!0}).then(e=>e.getVideoTracks()[0]))().catch(e=>{if("NotAllowedError"!==e.name)throw n.showError(e)});if(!(r instanceof MediaStreamTrack))return i.showInfo("Display selection was cancelled"),void le("selection was cancelled");r.addEventListener("ended",ue(e),{once:!0}),t.setVideoTrack(r,"display",r.label)},ue=({media:e})=>()=>{le("disableDisplayVideo()"),e.deleteVideoTrack()};var be=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)((({client:e})=>t=>{le("changeDispName()",`${e.displayName} => ${t}`),e.displayName=t})(e),[e]),n=Object(r.useCallback)((({media:e,ui:t})=>async()=>{le("enableUserVideo()");const{videoInDevices:n}=await f({video:!0}).catch(e=>{throw t.showError(e)});if(null===n)throw t.showError(new Error("getUserDevices() returns null"));if(0===n.length)throw t.showError(new Error("At leaset one video input device needed!"));const[{deviceId:i}]=n,r=await p(i).catch(e=>{throw t.showError(e)});e.setVideoTrack(r,"camera",i);const a=await f({video:!0}).catch(e=>{throw t.showError(e)});e.setVideoDevices(a),le("video devices",a.videoInDevices)})(e),[e]),a=Object(r.useCallback)((({media:e})=>()=>{le("disableUserVideo()"),e.deleteVideoTrack()})(e),[e]),o=Object(r.useCallback)(de(e),[e]),s=Object(r.useCallback)(ue(e),[e]),c=Object(r.useCallback)((({media:e,ui:t})=>async n=>{le("changeVideoDeviceId",n);const i=await p(n).catch(e=>{throw t.showError(e)});e.setVideoTrack(i,"camera",n)})(e),[e]),l=Object(r.useCallback)((({media:e,ui:t})=>async n=>{le("changeAudioDeviceId",n);const i=await m(n).catch(e=>{throw t.showError(e)});e.setAudioTrack(i,n)})(e),[e]),b=Object(r.useCallback)((e=>()=>{le("joinConference()");const{ui:t,room:n}=e;if(n.isJoined)throw t.showError(new Error("Already in the room!"));ce(e),t.isSettingsOpen=!1})(e),[e]),h=Object(r.useCallback)((({ui:e})=>()=>{le("closeSettings()"),e.isSettingsOpen=!1})(e),[e]),v=Object(r.useCallback)((({media:e})=>()=>{le("toggleAudioMuted()"),e.toggleMuted("audio")})(e),[e]),g=Object(r.useCallback)((({media:e})=>()=>{le("toggleVideoMuted()"),e.toggleMuted("video")})(e),[e]),{ui:y,media:w,room:O,client:k}=e;return Object(i.c)(d.a,null,()=>y.isSettingsOpen?Object(i.c)(ee,{stream:w.stream,defaultDispName:k.displayName,browser:k.browser,hasGetDisplayMedia:k.hasGetDisplayMedia,hasUserVideoDevice:k.hasUserVideoDevice,onChangeDispName:t,videoType:w.videoType,onClickEnableUserVideo:n,onClickDisableUserVideo:a,onClickEnableDisplayVideo:o,onClickDisableDisplayVideo:s,videoDeviceId:w.videoDeviceId||"",audioDeviceId:w.audioDeviceId||"",videoInDevices:w.videoInDevices.slice(),audioInDevices:w.audioInDevices.slice(),onChangeVideoDeviceId:c,onChangeAudioDeviceId:l,isVideoTrackMuted:w.isVideoTrackMuted,isAudioTrackMuted:w.isAudioTrackMuted,onClickToggleVideoMuted:g,onClickToggleAudioMuted:v,isReEntering:y.isReEntering,isJoined:O.isJoined,onClickCloseSettings:h,onClickJoinConference:b}):Object(i.c)(r.Fragment,null))};const he=Object(i.b)({position:"absolute",top:8,left:8,zIndex:A.d.notification},"label:wrapperStyle;");var fe=({children:e})=>Object(i.c)("div",{css:he},e);var me=({type:e,text:t})=>Object(i.c)("div",{css:pe},Object(i.c)(N.b,{name:e}),Object(i.c)("span",{css:ve},t));const pe=Object(i.b)({display:"flex",alignItems:"center",padding:"4px 8px",marginBottom:4,fontSize:".8rem",borderRadius:2,backgroundColor:l.b.white,willChange:"transform",animation:`${i.d`from { transform: translateX(-200%); }`} .2s ease`},"label:wrapperStyle;"),ve={name:"1r5gqne-textStyle",styles:"text-indent:4px;width:200px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;label:textStyle;"};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var ye=()=>{const e=Object(r.useContext)(u.a),{notification:t}=e;return Object(i.c)(d.a,null,()=>Object(i.c)(fe,null,t.items.slice().map(e=>Object(i.c)(me,ge({key:e.id},e)))))},we=n(26);var Oe=({chat:e})=>Object(i.c)("div",{css:e.isMine?[ke,je]:ke},Object(i.c)("div",{css:Ce},e.from," at ",new Date(e.time).toLocaleTimeString()),e.text);const ke=Object(i.b)({boxSizing:"border-box",width:"85%",padding:"4px 8px",marginTop:8,marginBottom:8,wordBreak:"break-word",borderRadius:2,border:`1px solid ${l.b.gray}`},"label:wrapperStyle;"),je=Object(i.b)({marginLeft:"15%",backgroundColor:l.b.gray},"label:mineStyle;"),Ce={name:"pf33d8-headStyle",styles:"font-size:.8rem;label:headStyle;"};var Se=({chats:e,onClickCloser:t,onClickSend:n})=>{const[a,o]=Object(r.useState)(""),s=Object(r.useCallback)(()=>{n(a),o("")},[a,n]),c=Object(r.useRef)(null);return Object(r.useEffect)(()=>{if(null===c.current)return;const e=c.current;e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},[e,c]),Object(i.c)(I,null,Object(i.c)("div",{css:xe},Object(i.c)("div",{css:Te},Object(i.c)(N.c,{name:"close",onClick:t})),Object(i.c)("div",{css:Ae,ref:c},e.map(e=>Object(i.c)(Oe,{key:e.id,chat:e}))),Object(i.c)("div",{css:De},Object(i.c)("input",{type:"text",value:a,onChange:e=>o(e.target.value),css:Ie}),Object(i.c)(N.c,{name:"send",disabled:0===a.length,onClick:s}))))};const xe=Object(i.b)({display:"grid",gridTemplateRows:"20px 1fr 20px",width:A.a,height:"80%",boxSizing:"border-box",margin:"32px auto 0",padding:8,backgroundColor:l.b.white},"label:wrapperStyle;"),Te={name:"xcc7qa-headStyle",styles:"text-align:right;label:headStyle;"},Ae={name:"1mapsxe-scrollerStyle",styles:"overflow-y:scroll;overflow-scrolling:touch;label:scrollerStyle;"},De={name:"b95q1y-editorStyle",styles:"display:flex;align-items:center;label:editorStyle;"},Ie={name:"zkugp8-inputStyle",styles:"flex:1 1 auto;margin-right:8px;label:inputStyle;"},Ee=s()("effect:chat"),Me=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)((({ui:e})=>()=>{Ee("openChat()"),e.isChatOpen=!0})(e),[e]);return Object(i.c)(d.a,null,()=>Object(i.c)(N.c,{name:"chat",onClick:t}))},Ve=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)((({ui:e})=>()=>{Ee("closeChat()"),e.isChatOpen=!1})(e),[e]),n=Object(r.useCallback)((({room:e,client:t})=>n=>{Ee("sendChat()",n),e.addLocalChat(t.displayName,n)})(e),[e]),{ui:a,room:o}=e;return Object(i.c)(d.a,null,()=>a.isChatOpen?Object(i.c)(Se,{chats:[...o.chats],onClickCloser:t,onClickSend:n}):Object(i.c)(r.Fragment,null))};var Re=({isSfu:e,stats:t,onClickCloser:n})=>{const[a,o]=Object(r.useState)(""),s=_e(t,a);return Object(i.c)(I,null,Object(i.c)("div",{css:Ne},Object(i.c)("div",{css:ze},Object(i.c)(N.c,{name:"close",onClick:n})),Object(i.c)("input",{type:"text",placeholder:"filter stats",value:a,onChange:e=>o(e.target.value)}),e?Object(i.c)("div",{css:$e},Object(i.c)("pre",{css:Le},null===s?"Loading...":JSON.stringify(s,null,2))):Object(i.c)("div",{css:Pe},"Stats view is not available in mesh room type.")))};const _e=(e,t)=>{if(0===e.length)return null;const n={};if(0===t.trim().length){for(const t of e)n[t.key]=t.value;return n}for(const i of e)i.index.includes(t)&&(n[i.key]=i.value);return n},Ne=Object(i.b)({display:"grid",gridTemplateRows:"20px 20px 1fr",width:A.a,height:"80%",boxSizing:"border-box",margin:"32px auto 0",padding:8,backgroundColor:l.b.white},"label:wrapperStyle;"),ze={name:"xcc7qa-headStyle",styles:"text-align:right;label:headStyle;"},$e={name:"cmgtbm-scrollerStyle",styles:"box-sizing:border-box;overflow:scroll;overflow-scrolling:touch;label:scrollerStyle;"},Le={name:"119b9iv-statsStyle",styles:"margin:0;padding:4px;font-size:.8rem;label:statsStyle;"},Pe={name:"1nqrqvm-naStyle",styles:"text-align:center;label:naStyle;"},Fe=s()("effect:stats"),Ue=({ui:e,room:t})=>()=>{Fe("openStats()"),e.isStatsOpen=!0;let n=0;const i=async()=>{n=requestAnimationFrame(i);const e=t.getPeerConnection();if(null===e)return;const r=await e.getStats().catch(e=>(Fe("getStats() error",e),null));null!==r?t.confStats.replace((e=>{const t=[];for(const[n,i]of e)t.push({key:n,value:i,index:JSON.stringify(i)});return t})(r)):t.confStats.clear()};n=requestAnimationFrame(i),Object(b.t)(()=>!e.isStatsOpen,()=>{Fe("stop stats collector"),cancelAnimationFrame(n)})},qe=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)(Ue(e),[e]);return Object(i.c)(d.a,null,()=>Object(i.c)(N.c,{name:"assessment",onClick:t}))},Je=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)((({ui:e})=>()=>{Fe("closeStats()"),e.isStatsOpen=!1})(e),[e]),{ui:n,room:a}=e;return Object(i.c)(d.a,null,()=>n.isStatsOpen?Object(i.c)(Re,{isSfu:"sfu"===a.mode,stats:[...a.confStats],onClickCloser:t}):Object(i.c)(r.Fragment,null))};var Ge=()=>{const e=Object(r.useContext)(u.a),{room:t}=e;return Object(i.c)(d.a,null,()=>null===t.pinnedStream?Object(i.c)(r.Fragment,null):Object(i.c)(M,{stream:t.pinnedStream,isVideoOnly:!0}))};var We=Object(r.memo)(({stream:e})=>{const[t,n]=Object(r.useState)({});return Object(r.useEffect)(()=>{let t=0;const i=()=>{t=requestAnimationFrame(i);const[r]=e.getVideoTracks(),[a]=e.getAudioTracks(),o=r?r.getSettings():{};n({timestamp:Date.now(),streamId:e.id,video:r?{trackId:r.id,width:o.width,height:o.height,frameRate:o.frameRate}:{},audio:a?{trackId:a.id}:{}})};return t=requestAnimationFrame(i),()=>cancelAnimationFrame(t)},[e,n]),Object(i.c)("pre",{css:Be},JSON.stringify(t,null,2))});const Be=Object(i.b)({margin:0,padding:4,width:"100%",height:"100%",boxSizing:"border-box",overflow:"auto",overflowScrolling:"touch",fontSize:".8rem",backgroundColor:l.b.black,color:l.b.white},"label:wrapperStyle;");var He=({stream:e,displayName:t,browser:n,videoType:a,isVideoTrackMuted:o,isAudioTrackMuted:s,onClickToggleAudioMuted:c,onClickToggleVideoMuted:l,onClickCastVideo:d,onClickOpenSettings:u})=>{const[b,h]=Object(r.useState)(!1),[f,m]=Object(r.useState)(!1);return Object(i.c)("div",{css:b?[Ye,Xe]:Ye},Object(i.c)("div",{css:Ze},Object(i.c)(M,{stream:e,isReverse:"camera"===a,isVideoOnly:!0}),Object(i.c)("div",{css:et},null===a?null:Object(i.c)(N.c,{name:"cast",title:"Cast your video",onClick:d}),Object(i.c)(N.c,{name:"info",title:"Toggle stream info",onClick:()=>m(!f)}),Object(i.c)(N.c,{name:"settings",title:"Open settings",onClick:u}),b?Object(i.c)(N.c,{name:"maximize",title:"Maximize",onClick:()=>h(!1)}):Object(i.c)(N.c,{name:"minimize",title:"Minimize",onClick:()=>h(!0)})),f?Object(i.c)("div",{css:Ke},Object(i.c)(We,{stream:e})):null,Object(i.c)("div",{css:Qe},Object(i.c)(Y,{displayName:t,browser:n,controllers:Object(i.c)(r.Fragment,null,null===a?null:Object(i.c)(N.c,{name:o?"videocam_off":"videocam",title:o?"Unmute video":"Mute video",onClick:l}),Object(i.c)(N.c,{name:s?"mic_off":"mic",title:s?"Unmute audio":"Mute audio",onClick:c}),Object(i.c)(Q,{stream:e}))}))))};const Ye=Object(i.b)({outline:`1px solid ${l.b.gray}`,transition:"all .2s ease",willChange:"transform"},"label:wrapperStyle;"),Xe={name:"n3f3tf-minimizeStyle",styles:"transform:translateY(90%);label:minimizeStyle;"},Ze=Object(i.b)({position:"relative",width:240,height:180},"label:videoStyle;"),Ke={name:"1dzeg0h-infoStyle",styles:"position:absolute;left:0;right:0;top:0;bottom:0;z-index:10;label:infoStyle;"},Qe={name:"1859mzx-controllerStyle",styles:"position:absolute;left:0;right:0;bottom:0;z-index:1;label:controllerStyle;"},et=Object(i.b)({position:"absolute",top:4,right:4,zIndex:100,display:"flex",alignItems:"center",color:l.b.white},"label:actionStyle;"),tt=s()("effect:local-stream");var nt=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)((({room:e})=>()=>{tt("castVideo()"),e.castRequestCount=e.castRequestCount+1})(e),[e]),n=Object(r.useCallback)((({ui:e})=>()=>{tt("openSettings()"),e.isSettingsOpen=!0})(e),[e]),a=Object(r.useCallback)((({media:e})=>()=>{tt("toggleAudioMuted()"),e.toggleMuted("audio")})(e),[e]),o=Object(r.useCallback)((({media:e})=>()=>{tt("toggleVideoMuted()"),e.toggleMuted("video")})(e),[e]),{media:s,client:c,ui:l}=e;return Object(i.c)(d.a,null,()=>l.isSettingsOpen?Object(i.c)(r.Fragment,null):Object(i.c)(He,{stream:s.stream,displayName:c.displayName,browser:c.browser,videoType:s.videoType,isVideoTrackMuted:s.isVideoTrackMuted,isAudioTrackMuted:s.isAudioTrackMuted,onClickToggleAudioMuted:a,onClickToggleVideoMuted:o,onClickCastVideo:t,onClickOpenSettings:n}))};const it=s()("effect:remote-streams");var rt=({stream:e,stat:t,isPinned:n,onClickSetPinned:a})=>{const o=!(!t||!t.isVideoDisabled),[s,c]=Object(r.useState)(!1);return Object(i.c)(r.Fragment,null,Object(i.c)("div",{css:at},Object(i.c)(M,{stream:e}),Object(i.c)("div",{css:ct},o?null:Object(i.c)(N.c,{name:n?"cancel_presentation":"present_to_all",title:"Pin this video",onClick:a}),Object(i.c)(N.c,{name:"info",title:"Toggle stream info",onClick:()=>c(!s)})),s?Object(i.c)("div",{css:ot},Object(i.c)(We,{stream:e})):null,Object(i.c)("div",{css:st},null!==t?Object(i.c)(Y,{displayName:t.displayName,browser:t.browser,controllers:Object(i.c)(r.Fragment,null,t.isVideoDisabled?null:Object(i.c)(N.b,{name:t.isVideoMuted?"videocam_off":"videocam"}),Object(i.c)(N.b,{name:t.isAudioMuted?"mic_off":"mic"}),Object(i.c)(Q,{stream:e}))}):null)))};const at=Object(i.b)({position:"relative",height:A.c/4*3},"label:videoStyle;"),ot={name:"1dzeg0h-infoStyle",styles:"position:absolute;left:0;right:0;top:0;bottom:0;z-index:10;label:infoStyle;"},st={name:"1859mzx-controllerStyle",styles:"position:absolute;left:0;right:0;bottom:0;z-index:1;label:controllerStyle;"},ct=Object(i.b)({position:"absolute",top:4,right:4,zIndex:100,display:"flex",alignItems:"center",color:l.b.white},"label:actionStyle;");var lt=({streams:e,stats:t,pinnedId:n,onClickSetPinned:r})=>Object(i.c)("div",{css:dt},Object(i.c)("div",{css:ut},Object(i.c)("span",{css:bt},e.length)," participant(s)"),e.map(([e,a])=>{const o=t.find(([t])=>t===e),s=o?o[1]:null,c=e===n;return Object(i.c)(rt,{key:e,stream:a,stat:s,isPinned:c,onClickSetPinned:()=>r(e)})}));const dt=Object(i.b)({width:A.c},"label:wrapperStyle;"),ut=Object(i.b)({height:A.b,padding:4,boxSizing:"border-box",fontSize:".8rem",textAlign:"center"},"label:headStyle;"),bt={name:"nv6cfl-numberStyle",styles:"font-size:.9rem;font-weight:bold;label:numberStyle;"};var ht=()=>{const e=Object(r.useContext)(u.a),t=Object(r.useCallback)((({room:e})=>t=>{const n=e.pinnedId===t?null:t;it("setPinned()",n),e.pinnedId=n})(e),[e]),{room:n}=e;return Object(i.c)(d.a,null,()=>Object(i.c)(lt,{streams:[...n.streams.entries()],stats:[...n.stats.entries()],pinnedId:n.pinnedId||"",onClickSetPinned:t}))};var ft=({children:e})=>Object(i.c)("div",{css:mt},e);const mt={name:"zufdsz-wrapperStyle",styles:"height:100vh;position:relative;label:wrapperStyle;"};var pt=({children:e})=>Object(i.c)("div",{css:vt},e);const vt={name:"18v8oy6-wrapperStyle",styles:"position:relative;width:100%;height:100%;background-image:url(./images/logo.svg);background-repeat:no-repeat;background-position:center center;label:wrapperStyle;"};var gt=({children:e})=>Object(i.c)("div",{css:yt},Object(i.c)("div",{css:wt},e));const yt=Object(i.b)({position:"absolute",top:0,left:0,bottom:0,zIndex:A.d.base},"label:wrapperStyle;"),wt={name:"1sqy6hi-bottomStyle",styles:"position:absolute;left:8px;bottom:8px;label:bottomStyle;"};var Ot=({children:e,openers:t})=>{const[n,a]=Object(r.useState)(!0);return Object(i.c)("div",{css:Ct,className:n?kt:""},Object(i.c)("div",{css:St},e),Object(i.c)("div",{css:Object(z.a)([xt,Tt],"label:RightMenu;")},Object(i.c)(N.c,{name:n?"chevron_right":"chevron_left",onClick:()=>a(!n)})),t.map((e,t)=>Object(i.c)("div",{key:t,css:Object(z.a)([xt,Object(i.b)({top:A.b*(t+1)},"label:RightMenu;")],"label:RightMenu;")},e)))};const kt="-visible",jt=A.c,Ct=Object(i.b)({position:"absolute",top:0,right:0,bottom:0,zIndex:A.d.base,width:jt,backgroundColor:l.b.gray,height:"100%",transition:".25s ease transform",transform:`translateX(${jt}px)`,willChange:"transform",[`&.${kt}`]:{transform:"translateX(0)"}},"label:wrapperStyle;"),St={name:"uwa9o4-scrollerStyle",styles:"height:100%;overflow-y:scroll;overflow-scrolling:touch;label:scrollerStyle;"},xt=Object(i.b)({boxSizing:"border-box",position:"absolute",left:-A.b,width:A.b,height:A.b,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"inherit",cursor:"pointer",borderBottom:`1px solid ${l.b.white}`},"label:knobStyle;"),Tt=Object(i.b)({top:0*A.b},"label:togglerStyle;");var At=class extends r.Component{constructor(e,t){super(e,t),this.state={err:null}}render(){return null!==this.state.err?Object(i.c)(ft,null,Object(i.c)(O,{error:this.state.err})):Object(i.c)(ft,null,Object(i.c)(T,null,Object(i.c)(pt,null,Object(i.c)(Ge,null)),Object(i.c)(gt,null,Object(i.c)(nt,null)),Object(i.c)(Ot,{openers:[Object(i.c)(Me,{key:"chat"}),Object(i.c)(we.a,{key:"reaction"}),Object(i.c)(qe,{key:"stats"})]},Object(i.c)(ht,null)),Object(i.c)(be,null),Object(i.c)(Ve,null),Object(i.c)(Je,null),Object(i.c)(ye,null)))}componentDidCatch(e){this.setState({err:e})}};const Dt=s()("main");(async()=>{Dt(`${c.a} v${c.b}`),document.title+=` v${c.b}`,Object(a.render)(Object(i.c)(r.Fragment,null,Object(i.c)(i.a,{styles:l.c}),Object(i.c)(At,null)),document.getElementById("app-root"))})().catch(e=>console.error(e))}]);